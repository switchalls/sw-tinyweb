<html>

<head>
<title>XML Utilities</title>
</head>

<body>
Helpers for loading and manipulating XML documents.

<p>Example usage -
<div style="background-color:lightgrey">
<pre>
    final URL schemaURL = ...

    <font style="color:blue">// process file using W3C schema and DOM xpath queries</font>
    
    FileInputStream fin = ...
    try {
        <font style="color:blue">// load XML document with W3C schema validation</font>

        final DOMDocument d = new DOMDocument();
        d.loadDocumentUsingW3CSchema( "myDoc", fin, schemaURL.toExternalForm() );
		
        <font style="color:blue">// execute xpath queries</font>

        assertEquals( 1.0, d.evaluateNumber("count(r3)") );
        assertEquals( 2.0, d.evaluateNumber("count(*[find-this = 'find-me'])") );
        
    } finally {
        fin.close();
    }

    <font style="color:blue">// process file using DTD and SAX parser</font>
    
    fin = ...
    try {
        final SAXDocument sax = new SAXDocument();

        <font style="color:blue">// enable parser to locate and load DTD file</font>
        final EntityResolver resolver = new SingleLocationEntityResolver( ... );
        sax.setEntityResolver( resolver );
        
        <font style="color:blue">// add handler for processing XML content</font>
        sax.addContentHandler( new SAXDocument.ContentHandler() {
            @Override
            public void elementStart(String aXPath, String aElementName, Attributes aAttrs) throws SAXException {                
                if ("/e1/e2/e3".equals(aXPath)) {
                    <font style="color:blue">// handle element-started for children named "e3" inside parent /e1/e2 elements</font>
                }
            }
            
            @Override
            public void elementEnd(String aXPath, String aElementName, String aValue, Attributes aAttrs) throws SAXException {
                if ("e4".equals(aElementName) && (aValue.trim().length() > 0)) {
                    <font style="color:blue">// handle XML content for element's called "e4"</font>
                }
            }
        });
        
        sax.loadDocument( "myDoc", fin, true );
        	
    } finally {
        fin.close();
    }
</pre>
</div>
</body>

</html>
